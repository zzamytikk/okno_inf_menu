var Oinf={id:'body > #Oinf',Z:'Уведомления',y:'1.5rem',S:2,v:[15,10,15,15],d:30,$:q=>{let O=Oinf;console.error(typeof q=='string'?'ЗАКРЫВАЕМ! Oinf.$('+q+');':'СТАРТУЕМ! Oinf.$();',typeof q=='string'?'':q);if(q.t&&q.id){if($(O.id)[0]){console.error('Окно открыто! Всего смс:',$(O.id+' > div[data-oinf]').length);O.sms.$(q)}else{O.s=(q.s||(q.s=O.S))%2?'left':'right';console.error('Создаём окно! css({ '+(q.s<3?'top':'bottom')+': '+O.y+', '+O.s+': -100% })');$('body').append($('<div id="'+O.id.split('#')[1]+'">').css({[q.s<3?'top':'bottom']:O.y,[O.s]:'-100%'}).html('<h3>'+O.Z+'</h3>'));O.sms.$(q,1);setTimeout(()=>{$(O.id).css({[O.s]:-1})},1)}}else if(typeof q=='string'){O.sms.X(q)}else{console.error('if(q.t['+q.t+'] && ['+q.id+']q.id)//Текст сообщения && id сообщения')}},sms:{$:function(q,X){console.error('Oinf.sms.$(); Начинаем добавлять сообщение!'+(X?' Запуск из Oinf.$':''),q);let O=Oinf,r,b;clearTimeout(O.T);clearTimeout(this.T);if($(O.id+' > [data-oinf="'+q.id+'"]')[0]){console.error('Нашли старое сообшение! Удалим его.');this.X(q.id,1);r=1}if(!r&&!X&&!$(O.id+' > div[data-oinf]')[0]){console.error('Вернём окно! Стало смс',$(O.id+' > div[data-oinf]').length);b=$(O.id).css({[O.s]:-1}).children('div').not('[data-oinf]');this.aX(b)}$(O.id).append($('<div>').attr({class:'Oinf'+(q.x>=0?q.x:'L'),'data-oinf':q.id}).css({[O.s]:X?0:'-100%',filter:'blur('+(X?0:20)+'px)'}).html('<div'+(X?' style="display:block"':'')+'><s></s>'+q.t+'</div>'+(q.x>=0?'<span></span>':'')));console.error('+1 сообщение! Всего смс:',$(O.id+' > div[data-oinf]').length);Oinf.A.$(q,b=$(O.id+' > [data-oinf="'+q.id+'"]').eq(-1));if(!X){setTimeout(()=>{b.css(O.s,0).children('div').show(300).parent().css('filter','blur(0)')},1)}this.T=setTimeout(()=>{console.error('!!! Сработало принудительное закрытие окна! 30сек');O.X()},O.d+'000')},X:(i,x)=>{let O=Oinf,b=$(O.id+' > [data-oinf="'+i+'"]').eq(0);console.error('Oinf.sms.X(); Начинаем удоления сообщения data-oinf='+i+'! Всего смс:',$(O.id+' > div[data-oinf]').length);if(b[0]){b.removeAttr('data-oinf');if(O.A.a[i]){console.error('Остановим автосмс',O.A.a);clearTimeout(O.A.a[i]);delete O.A.a[i]}if(!x&&!$(O.id+' > div[data-oinf]')[0]){O.X()}else{O.sms.aX(b)}}else{console.error('Не нашли смс data-oinf='+i)}},aX:b=>{console.error('-1 сообщение. Всего смс:',$(Oinf.id+' > div[data-oinf]').length);b=(b.css('padding',0).children('div')).animate({height:0},600,()=>{b.animate({width:0},600,()=>{b.parent().remove()})})}},A:{a:{},$:function(q,b){let O=Oinf,S=this,x=q.xS||O.v[q.x];if(x){clearTimeout(S.a[q.id]);console.error('Oinf.A.$(); Автозакрытие сообщений! id для записи='+q.id+'. Установим задержку на',q.xS?'Своя: ':'',x+'сек.');setTimeout(()=>{b.children('span').css({transition:(x+2)+'s',height:0,'border-color':'#f00'})},1);S.a[q.id]=setTimeout(()=>{delete S.a[q.id];Oinf.sms.X(q.id);console.error('Список автоудаления',S.a)},x+'000')}}},X:()=>{let O=Oinf;console.error('Oinf.X(); Начинаем закрывать окно с удалением его!',$(O.id+' > div[data-oinf]').length);clearTimeout(O.T);clearTimeout(O.sms.T);O.T=setTimeout(()=>{let x=$(O.id).css({[O.s]:'-100%'}).children('div[data-oinf]').removeAttr('data-oinf');O.T=setTimeout(()=>{$(O.id).remove();console.error('Окно удалено!',$(O.id+' > div[data-oinf]').length)},999)},999)}}